<html t:type="layout" title="message:admin/ManageTeams-pagelink"
	xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
	xmlns:p="tapestry:parameter">

<h1>${message:admin/ManageTeams-pagelink}</h1>

<div>
	<a href="" class="btn btn-secondary" t:type="iconactionlink"
		t:id="toggleApprovalOnly" t:path="toggle-left">Toggle</a>
</div>

<div t:type="if" t:test="approvalOnly">
	<h2>Only Teams Wating For Approval</h2>
	<p:else>
		<h2>All Teams</h2>
	</p:else>
</div>

<div class="card card-body bg-light mb-3" t:type="loop" t:source="teams"
	t:value="team">
	<h2>${team.name}
		<div t:type="if" t:test="approvalOnly">
			<a href="" class="btn btn-sm btn-primary" t:type="iconactionlink"
				t:id="approveTeam" t:context="team" t:path="check">${message:approve-label}</a>
		</div>
	</h2>
	<p>
		<t:outputraw t:value="team.description" />
	</p>
	${team.statusDate} <br />${message:openForNewMembers-label}:
	${team.openForNewMembers} - Max: ${team.maxMembers}

	<table class="table table-sm " t:type="grid"
		t:source="team.teamMembers" t:row="teamMember" t:add="name"
		t:exclude="teamMemberId,createdDate,statusDate">
		<p:nameCell>${teamMember.person.userName}  ${teamMember.person.firstName} ${teamMember.person.lastName}</p:nameCell>
	</table>

</div>
</html>